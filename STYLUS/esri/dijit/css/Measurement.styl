//
// Copyright 2014 Esri
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//

/* esriMeasurement
 * 
 * Styling esriMeasurement includes:
 * 
 * 1. Containers
 * 		.esriMeasurement
 *		.esriMeasurementSeparator - separate the Toggle buttons and the dropdown button
 *		.esriMeasurementResultValue - contains measurement result for "Area" and "Distance"
 *		.esriMeasurementTableContainer - contains measurement result for "Location"
 * 2. Buttons
 *		.esriButton
 *		.esriToggleButton
 *
 * 3. States - Hover, Active, Checked, e.g.
 *		.esriButton - .esriButtonHover, .esriButtonActive, .esriButtonChecked
 *		.esriToggleButton - .esriToggleButtonHover, .esriToggleButtonOpened, esriToggleButtonDisabled
 */

@import "../../../variables";

.esriMeasurement {
	background: $map-measurement-background;
	padding: $map-measurement-padding;
	border: $map-measurement-border;

	/* Button */

	// NOTE: The Button styles are the same as dijit/form/Button styles. However, since ArcGIS API's styles are using
	// "!important" on some of the button properties, we have to use "!important" to overwrite those

	.esriButton {
		float: none;
		width: 33%;
		box-sizing: border-box;
	
		+ .esriButton {
			margin-left: -4px;				// minus the width of the left border
		}
	
		.dijitButtonNode {
			button-style();
			height: $map-measurement-button-height;
			width: 100%;
			padding: $padding 0 !important;	// Override esri's default padding, which uses "!important"
			border: $map-measurement-button-border !important;		// Override esri's default border, which uses "!important"
			float: left;
			border-radius: 0;
		}
	
		&:first-child .dijitButtonNode {
			border-radius: $map-measurement-button-border-radius 0 0 $map-measurement-button-border-radius;
		}
		&:nth-child(3) .dijitButtonNode {
			border-radius: 0 $map-measurement-button-border-radius $map-measurement-button-border-radius 0;
		}
	}

	.esriButtonHover .dijitButtonNode {
		background-image: none !important;
		//button-hover-style();
		background: darken($primary-color, 8%) !important; // fallback
		background: linear-gradient(lighten($primary-color, 5%), darken($primary-color, 8%)) !important;
	}

	.esriButtonActive .dijitButtonNode {
		button-active-style();
		background-image: none !important;
		background: darken($primary-color, 15%) !important; // fallback
		background: linear-gradient($primary-color, $primary-color) !important;
	}

	.esriButtonChecked .dijitButtonNode {
		button-active-style();
		background-image: none !important;
		background: darken($primary-color, 15%) !important; // fallback
		background: linear-gradient($primary-color, $primary-color) !important;
	}

	/* Toggle Button */

	.esriToggleButton {
		width: $map-measurement-toggle-button-width;
		margin: 0 auto;
		display: block;

		.dijitButtonNode {
			button-style();
			width: 100%;
			height: $map-measurement-button-height;
			padding: $padding 0 !important;	// Override esri's default padding, which uses "!important"
			border: $map-measurement-button-border !important;		// Override esri's default border, which uses "!important"

			.dijitArrowButtonInner {
				_icon-core-style();

				&:before {
					content: "\f0d7";
				}
			}
		}
	}

	.esriToggleButtonHover,
	.esriToggleButtonOpened {
		.dijitButtonNode {
			background-image: none !important;
			//button-hover-style();
			background: darken($primary-color, 8%) !important; // fallback
			background: linear-gradient(lighten($primary-color, 5%), darken($primary-color, 8%)) !important;
		}
	}

	.esriToggleButtonDisabled .dijitButtonNode {
		button-disabled-style();
	}

	/* Result */

	.esriMeasurementResultLabel {
		background: $super-light-gray-color;
		margin-top: $map-measurement-result-label-margin-top;
		margin-bottom: 0;
		border-bottom: 0 none;
		color: $map-measurement-result-label-text-color;
		text-align: center;
		font-weight: $map-measurement-result-label-font-weight;
		border-top: $map-measurement-result-label-border-top;
		margin-left: - $map-measurement-padding;
		margin-right: - $map-measurement-padding;
		padding: $map-measurement-result-label-padding;
	}
	
	.esriMeasurementResultValue,
	.esriMeasurementTableContainer {
		background: $super-light-gray-color;
		padding: $map-measurement-padding;
		margin-left: - $map-measurement-padding;
		margin-right: - $map-measurement-padding;
		margin-bottom: - $map-measurement-padding;
	}

	.esriMeasurementResultValue,
	.esriMeasurementTableCell {
		font-size: $map-measurement-result-value-font-size;
		font-weight: $map-measurement-result-value-font-weight;
		text-align: center;
	}

	.esriMeasurementSeparator {
		display: block;
		width: 100%;
		height: 1px;
		padding: 0;
		margin-top: $map-measurement-separator-margin-top;
		margin-bottom: $map-measurement-separator-margin-bottom;
		background: $map-measurement-separator-color;
		font-size: 0;
	}
}
.distanceIcon {
	background-image: url(../images/Measure_Distance16.png);
	width: 16px;
	height: 16px;
}

.areaIcon {
	background-image: url(../images/Measure_Area16.png);
	width: 16px;
	height: 16px;
}

.locationIcon {
	background-image: url(../images/Measure_Point16.png);
	width: 16px;
	height: 16px;
}
